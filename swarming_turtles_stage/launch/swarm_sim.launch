<launch>
  <param name="use_sim_time" value="true" />

  <node name="map_server" pkg="map_server" type="map_server" args="$(find swarming_turtles_stage)/world/swarmlab_map.yaml"/>
  <node pkg="stage_ros" type="stageros" name="stageros" args="$(find swarming_turtles_stage)/world/swarmlab_created.world" respawn="false" output="screen" />

  <node pkg="tf" type="static_transform_publisher" name="tf_world_map" args="0 0 0 0 0 0 /map /world 100" respawn="false" output="screen" />

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find swarming_turtles_stage)/sim_view.rviz" output="screen" />

  <node name="fake_localization" pkg="fake_localization" ns="robot_0" type="fake_localization" respawn="false">
    <param name="~tf_prefix" value="robot_0" />
    <param name="~odom_frame_id" value="/robot_0/odom" />
    <param name="~base_frame_id" value="/robot_0/base_link" />
  </node>

  <node name="fake_localization" pkg="fake_localization" ns="robot_1" type="fake_localization" respawn="false">
    <param name="~tf_prefix" value="robot_1" />
    <param name="~odom_frame_id" value="/robot_1/odom" />
    <param name="~base_frame_id" value="/robot_1/base_link" />
  </node>

  <node name="fake_localization" pkg="fake_localization" ns="robot_2" type="fake_localization" respawn="false">
    <param name="~tf_prefix" value="robot_2" />
    <param name="~odom_frame_id" value="/robot_2/odom" />
    <param name="~base_frame_id" value="/robot_2/base_link" />
  </node>

  <node name="fake_localization" pkg="fake_localization" ns="robot_3" type="fake_localization" respawn="false">
    <param name="~tf_prefix" value="robot_3" />
    <param name="~odom_frame_id" value="/robot_3/odom" />
    <param name="~base_frame_id" value="/robot_3/base_link" />
  </node>
  
  <node name="fake_localization" pkg="fake_localization" ns="robot_4" type="fake_localization" respawn="false">
    <param name="~tf_prefix" value="robot_4" />
    <param name="~odom_frame_id" value="/robot_4/odom" />
    <param name="~base_frame_id" value="/robot_4/base_link" />
  </node>

</launch>
